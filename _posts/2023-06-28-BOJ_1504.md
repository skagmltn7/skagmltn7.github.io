---
title: "[BOJ] 1504. íŠ¹ì •í•œ ìµœë‹¨ ê²½ë¡œ(python)"
author: heesu
date: 2023-06-28 21:08:00+0900
categories: [Studying, coding test]
tags: [heap, ê·¸ë˜í”„, ë‹¤ìµìŠ¤íŠ¸ë¼]
---
## ğŸ“Œ[ë¬¸ì œ](https://www.acmicpc.net/problem/1504)
![Alt text](https://raw.githubusercontent.com/skagmltn7/practice_coding_test/685a089b58ce6a137665ae6f4d3ccab8b83bfed8/BOJ/img/problem_1504.PNG)
<br><br>

## ğŸ’ªì•„ì´ë””ì–´<br>
1. **ì–‘ë°©í–¥ ê·¸ë˜í”„**<br>
defaultdictë¥¼ ì‚¬ìš©í•´ì„œ ë…¸ë“œ ê°„ ê°„ì„ ì„ ì´ì–´ì¤€ë‹¤.<br>


2. **1ë²ˆì—ì„œ në²ˆ ìµœë‹¨ê±°ë¦¬**<br>
heapì„ ì‚¬ìš©í•œ `ë‹¤ìµìŠ¤íŠ¸ë¼`ì•Œê³ ë¦¬ì¦˜ì„ ì´ìš©í•œë‹¤. 1ì—ì„œ nê¹Œì§€ ê°€ëŠ” ìµœë‹¨ ê±°ë¦¬ì— ë‘ ì •ì ì„ ë°˜ë“œì‹œ í†µê³¼í•´ì•¼í•œë‹¤.<br>
    - **1) start -> v1 -> v2 -> N**<br>dist[start][v1], dist[v1][v2],dist[v2][end]<br>
    - **2) start -> v2 -> v1 -> end**<br>dist[start][v2], dist[v2][v1],dist[v1][end]<br><br>
    
    ì–‘ë°©í–¥ ê·¸ë˜í”„ì´ê¸° ë•Œë¬¸ì— v1 -> v2ì™€ v2 -> v1ëŠ” ê°™ë‹¤. ë”°ë¼ì„œ, `startë¥¼ ì‹œì‘ì ìœ¼ë¡œí•˜ëŠ” ë‹¤ìµìŠ¤íŠ¸ë¼ì™€ v1ë¥¼ ì‹œì‘ì ìœ¼ë¡œí•˜ëŠ” ë‹¤ìµìŠ¤íŠ¸ë¼, v2ë¥¼ ì‹œì‘ì ìœ¼ë¡œí•˜ëŠ” ë‹¤ìµìŠ¤íŠ¸ë¼` ì´ 3ê°œì˜ ë‹¤ìµìŠ¤íŠ¸ë¼ ë°°ì—´ì„ êµ¬í•˜ë©´ ëœë‹¤.<br> 
<br> 

3. **ë‘ ê°œì˜ ì •ì ì„ ì§€ë‚˜ëŠ” ìµœë‹¨ ê²½ë¡œì˜ ê¸¸ì´**<br>
ìœ„ì—ì„œ ë‚˜ëˆˆ ë‘ê°€ì§€ ê²½ìš°ì˜ ê¸¸ì´ë¥¼ ëª¨ë‘ ë”í•´ì„œ ìµœì†Ÿê°’ì„ ì¶œë ¥í•œë‹¤. ìµœì†Ÿê°’ì´ infë¼ë©´ -1ë¥¼ ì¶œë ¥í•œë‹¤.<br>

## ğŸ¥‚ì½”ë“œ

```python
import sys; input = sys.stdin.readline
from collections import defaultdict
from heapq import heappush, heappop

def Dijk(start):
    dist = [float('inf')] * (n+1)
    dist[start] = 0
    heap = []
    heappush(heap,(0,start))

    while heap:
        d, cur = heappop(heap)
        if dist[cur] < d: continue
        for nxt, cost in graph[cur]:
            distance = cost + d
            if distance < dist[nxt]:
                dist[nxt] = distance
                heappush(heap,(distance,nxt))
    return dist

n, e = map(int,input().split())
graph = defaultdict(list)

for _ in range(e):
    a, b, c = map(int,input().split())
    graph[a].append((b,c))
    graph[b].append((a,c))

v1, v2= map(int,input().split())

startDijk = Dijk(1)
start2v1 = startDijk[v1]
start2v2 = startDijk[v2]

nodeDijk = Dijk(v1)
v12v2 = nodeDijk[v2]
v12end = nodeDijk[n]

v2Dijk = Dijk(v2)
v22end = v2Dijk[n]

answer = min((start2v1 + v12v2 + v22end), (start2v2 + v12v2 + v12end))
print(answer if answer != float('inf') else -1)
```